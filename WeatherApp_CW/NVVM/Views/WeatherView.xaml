<?xml version="1.0" encoding="utf-8"?>

<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="WeatherApp_CW.NVVM.Views.WeatherView"
             xmlns:skia="clr-namespace:SkiaSharp.Extended.UI.Controls;assembly=SkiaSharp.Extended.UI">

    <Grid Margin="15" RowDefinitions=".08*, .1*, .5*, .1*, .3*, .08*" ColumnDefinitions="*,*" RowSpacing="15">
        <SearchBar Grid.ColumnSpan="2" Placeholder="Search" VerticalOptions="Center" BackgroundColor="White"/>
        <VerticalStackLayout Grid.Row="1" Grid.ColumnSpan="2" HorizontalOptions="Center" VerticalOptions="End" Spacing="10">
            <Label Text="Madrid" Style="{StaticResource Title}"/>
            <Label Text="February 27, 2025"/>
        </VerticalStackLayout>
        
        <skia:SKLottieView Grid.Row="2" Grid.ColumnSpan="2" RepeatCount="-1" Source="partlyShower.json"/>

        <Grid Grid.Row="3" ColumnDefinitions="*,*,*" Grid.ColumnSpan="2" ColumnSpacing="10">
            <VerticalStackLayout HorizontalOptions="Center" VerticalOptions="Center" Spacing="10">
                <Label Text="Temp" Style="{StaticResource WeatherTitle}" FontSize="18"/>
                <Label Text="10°" Style="{StaticResource WeatherTemp}" FontSize="18"/>
            </VerticalStackLayout>
            <VerticalStackLayout Grid.Column="1" HorizontalOptions="Center" VerticalOptions="Center" Spacing="10">
                <Label Text="Precipitation" Style="{StaticResource WeatherTitle}" FontSize="18"/>
                <Label Text="10%" Style="{StaticResource WeatherTemp}" FontSize="18"/>
            </VerticalStackLayout>
            <VerticalStackLayout Grid.Column="2" HorizontalOptions="Center" VerticalOptions="Center" Spacing="10">
                <Label Text="Weather" Style="{StaticResource WeatherTitle}" FontSize="18"/>
                <Label Text="Partly Cloudy" Style="{StaticResource WeatherTemp}" FontSize="18"/>
            </VerticalStackLayout>
        </Grid>

        <CollectionView Grid.Row="4" Grid.ColumnSpan="2">
            <CollectionView.ItemsSource>
                <x:Array Type="{x:Type x:String}">
                    <x:String>1</x:String>
                    <x:String>2</x:String>
                    <x:String>3</x:String>
                    <x:String>4</x:String>
                    <x:String>5</x:String>
                </x:Array>
            </CollectionView.ItemsSource>
            <CollectionView.ItemsLayout>
                <LinearItemsLayout ItemSpacing="10" Orientation="Horizontal"/>
            </CollectionView.ItemsLayout>
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Grid>
                        <Border Style="{StaticResource cards}">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="15"/>
                            </Border.StrokeShape>
                        </Border>

                        <VerticalStackLayout VerticalOptions="End" Spacing="3" WidthRequest="150" HeightRequest="150">
                            <skia:SKLottieView IsAnimationEnabled="False" HeightRequest="50" WidthRequest="50" Source="partlyCloudy.json"/>
                            <Label Text="08/02/2025"/>
                            <Label Text="40" />
                            <Label Text="Partly Showers" />
                        </VerticalStackLayout>
                    </Grid>
                </DataTemplate>

            </CollectionView.ItemTemplate>
        </CollectionView>
        
    </Grid>
    
</ContentPage>